{{ define "main" }}

<style>
    .terminal-wrapper {
        color: #33ff00 !important;
        font-family: 'Courier New', Courier, monospace !important;
    }
    
    .terminal-wrapper a {
        color: #33ff00 !important;
        text-decoration: none;
    }
    .terminal-wrapper a:hover {
        background-color: #33ff00;
        color: #000 !important;
    }
    
    .terminal-border {
        border-color: #33ff00 !important;
    }

    /* --- YANGI QO'SHILGAN ANIMATSIYALAR --- */

    /* 1. Yozish effekti uchun konteyner */
    .typewriter-container {
        display: inline-block;
        overflow: hidden; /* Toshgan yozuvni yashirish */
        white-space: nowrap; /* Matnni pastga tushirmaslik */
        margin: 0;
        letter-spacing: 0.10em; /* Harflar orasi */
        animation: 
            typing 3s steps(40, end); /* Yozish tezligi */
        max-width: 100%;
        margin-bottom: 30px; /* Pastki qismdan joy tashlash */
        font-size: 1.5rem;   /* Yozuv kattaligi */
        font-weight: bold;
    }

    /* 2. Pastdagi fayllar ro'yxatini kechikib chiqishi (Fade In) */
    .delayed-content {
        opacity: 0; /* Boshida ko'rinmay turadi */
        animation: fadeIn 1s ease-in forwards; /* Sekin paydo bo'lish */
        animation-delay: 1.5s; /* Yozuv yozilib bo'lgandan keyin chiqadi */
    }

    /* --- ANIMATSIYA KALITLARI --- */
    
    /* Yozish effekti */
    @keyframes typing {
        from { width: 0 }
        to { width: 100% }
    }

    /* Kursor o'chib-yonishi */
    @keyframes blink-caret {
        from, to { border-color: transparent }
        50% { border-color: #33ff00; }
    }

    /* Sekin paydo bo'lish */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>

<div class="terminal-wrapper">

    <div>
        <h2 class="typewriter-container">
            > Welcome to 5h4hz0d's System...
        </h2>
    </div>

    <div class="delayed-content">

        <div style="margin-bottom: 30px; font-size: 1.2rem; margin-top: 10px;">
            <span style="font-weight: bold; text-shadow: 0 0 5px #33ff00;">5h4hz0d@kali:</span><span style="color: #3498db;">~</span>$ ls -lat ./content/
            <span class="blink">_</span>
        </div>

        <div class="file-list">
            
            <div class="terminal-border" style="display: flex; border-bottom: 2px solid; padding-bottom: 10px; margin-bottom: 15px; font-weight: bold; text-transform: uppercase; font-size: 0.9rem;">
                <div style="width: 130px;">Permissions</div>
                <div style="width: 130px;">Date</div>
                <div style="width: 110px;">Type</div>
                <div style="flex-grow: 1;">Filename</div>
            </div>

            {{ $paginator := .Paginate (where .Site.RegularPages "Type" "in" (slice "posts" "manuals")) }}
            {{ range $paginator.Pages }}
            <div class="terminal-border" style="display: flex; align-items: center; margin-bottom: 12px; font-size: 1.1rem; border-bottom: 1px dashed; padding-bottom: 5px;">
                
                <div style="width: 130px; opacity: 0.7; font-size: 0.9rem;">-rwxr-xr-x</div>

                <div style="width: 130px; opacity: 0.9;">
                    {{ .Date.Format "Jan 02" }}
                </div>

                <div style="width: 110px;">
                    {{ if eq .Section "posts" }}
                    <span style="border: 1px solid #33ff00; padding: 0 4px; font-size: 0.7rem; font-weight: bold;">WRITEUP</span>
                    {{ else }}
                    <span style="border: 1px dashed #33ff00; padding: 0 4px; font-size: 0.7rem; font-weight: bold;">MANUAL</span>
                    {{ end }}
                </div>

                <div style="flex-grow: 1;">
                    <a href="{{ .RelPermalink }}" style="font-weight: bold; display: block;">
                        {{ .Title }}
                    </a>
                </div>

            </div>
            {{ end }}
        </div>

        <div style="margin-top: 50px; text-align: center;">
            {{ if $paginator.HasPrev }}
            <a href="{{ $paginator.Prev.URL }}">&lt;&lt; prev</a>
            {{ else }}
            <span style="opacity: 0.3;">&lt;&lt; prev</span>
            {{ end }}
            
            <span style="margin: 0 15px; border: 1px solid #33ff00; padding: 2px 8px;">
                page {{ $paginator.PageNumber }} of {{ $paginator.TotalPages }}
            </span>

            {{ if $paginator.HasNext }}
            <a href="{{ $paginator.Next.URL }}">next &gt;&gt;</a>
            {{ else }}
            <span style="opacity: 0.3;">next &gt;&gt;</span>
            {{ end }}
        </div>

    </div> </div>

<style>
.blink {
  animation: blinker 1s step-end infinite;
  background-color: #33ff00;
  color: #000;
  padding: 0 5px;
  margin-left: 5px;
}
@keyframes blinker { 50% { opacity: 0; } }
</style>
{{ end }}